// Generated with Shader Minifier 1.3.6 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_waveOutPosition "m"
#endif
#else // if SHADER_MINIFIER_IMPL
// sound_compute_shader.i
"#version 430\n"
 "const float v=acos(-1)*2,x=60./128/4;"
 "vec3 p(vec3 v)"
 "{"
   "uvec3 f=floatBitsToUint(v);"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "return vec3(f)/-1u;"
 "}"
 "vec2 t(float v)"
 "{"
   "return vec2(cos(v),sin(v));"
 "}"
 "mat2 e(float v)"
 "{"
   "vec2 f=t(v);"
   "return mat2(f.x,f.y,-f.y,f.x);"
 "}"
 "vec3 f(vec2 v)"
 "{"
   "vec2 f=floor(v),x=fract(v);"
   "x=x*x*(3-2*x);"
   "vec3 s=mix(p(vec3(f,.12)),p(vec3(f+vec2(1,0),.12)),x.x),y=mix(p(vec3(f+vec2(0,1),.12)),p(vec3(f+vec2(1),.12)),x.x);"
   "return mix(s,y,x.y);"
 "}"
 "vec3 s(vec2 v)"
 "{"
   "float x=1;"
   "vec4 y=vec4(0);"
   "for(int i=0;i<6;i++)"
     "y+=x*vec4(f(v),1),x*=.5,v*=mat2(-1.4747,1.351,-1.351,-1.4747);"
   "return y.xyz/y.w;"
 "}"
 "layout(location=0) uniform int m;\n"
 "layout(std430,binding=0)buffer _{vec2 i[];};layout(local_size_x=1)in;"
 "float w[]=float[](0,2,3,7,14,15,19,22,-5,2,3,5,7,10,14,15,-4,0,3,7,14,15,19,24,-7,0,7,8,10,12,15,19);"
 "void main()"
 "{"
   "int f=int(gl_GlobalInvocationID.x)+m;"
   "vec4 y=vec4(f%(5625*ivec4(1,4,16,256)))/48000;"
   "float g=f/48000/16/x,l;"
   "vec2 r=vec2(0);"
   "float u;"
   "l=y.y;"
   "u=g>=16?"
     ".2+.8*smoothstep(0.,.4,l)*smoothstep(0.,.001,4*x-l):"
     "1;"
   "if(g>=16&&g<47.25||g>=48)"
     "r+=.6*tanh(smoothstep(0.,.001,4*x-l)*smoothstep(.3,.1,l)*2*sin(270*l-20*exp(-l*20)-15*exp(-l*80)-10*exp(-l*500)));"
   "if(g>=8)"
     "{"
       "int _=max(0,f/5625-256)/32%4*8;"
       "l=y.x;"
       "float c=smoothstep(0.,.001,l)*smoothstep(0.,.001,x-l);"
       "{"
         "float n=exp2((30+w[_]-69)/12)*440*l;"
         "r+=.4*u*c*tanh(4*(f%22500/48000)*sin(v*n));"
       "}"
       "for(int n=0;n<8;n++)"
         "{"
           "vec3 D=p(vec3(n+51));"
           "float z=exp2((30+w[_]+.2*(sqrt(-2*log(D.xy.x))*t(v*D.xy.y)).x-69)/12)*440*l+D.z;"
           "r+=.1*u*tanh(4*(f%22500/48000)*c*tanh(3*((fract(z)+smoothstep(1.,0.,fract(z)/(.55-.4*exp(-l*5))))*2-1-.55+.4*exp(-l*5))));"
         "}"
     "}"
   "if(g>=16)"
     "{"
       "l=y.w;"
       "float c=exp(-l*10)+exp(-l);"
       "l*=28000;"
       "vec2 n=vec2(0);"
       "for(int z=0;z<64;z++)"
         "{"
           "vec3 D=p(vec3(z));"
           "n+=vec2(sin(l*exp2(2*D.x)))*e(v*D.y)/64;"
         "}"
       "r+=.2*u*tanh(2*c*n);"
     "}"
   "if(g>=8&&g<16||g>=32&&g<64)"
     "{"
       "l=y.x;"
       "float c=smoothstep(0.,.001,x-l)*exp(-l*exp2(5+fract(.8+.631*vec3(floor(f/5625%16))).x));"
       "l*=38000;"
       "vec2 n=vec2(0);"
       "for(int z=0;z<64;z++)"
         "{"
           "vec3 D=p(vec3(z));"
           "n+=vec2(sin(l*exp2(2*D.x)))*e(v*D.y)/64;"
         "}"
       "r+=.3*u*tanh(2*c*n);"
     "}"
   "if(g>=48&&g<64)"
     "l=mod(y.z+4*x,8*x),r+=.1*tanh(6*exp(-l*16)*(s(vec2(4*t(1000*l)+480*l)).xy-.5));"
   "if(g>=32&&g<64)"
     "for(int z=0;z<16;z++)"
       "{"
         "vec3 D=p(vec3(z)+30),c=p(D);"
         "l=mod(y.z+z*x,16*x);"
         "float n=exp2(5+10*c.x)*l;"
         "r+=.05*u*tanh(40*exp(-l*exp2(5+5*D.y))*(s(vec2(exp2(4-4*c.y)*t(n)+exp2(-3*c.z)*n)).xy-.5));"
       "}"
   "for(int z=0;z<64;z++)"
     "{"
       "vec3 D=p(vec3(z));"
       "vec2 n=sqrt(-2*log(D.xy.x))*t(v*D.xy.y);"
       "int c=max(0,f-int(exp2(9.2*smoothstep(34,44,g)))*z-5625)%16875;"
       "l=c/48000;"
       "float _=exp2((54+w[z%(4+clamp(((f-c)/5625-256)/64,0,4))+max(0,(f-c)/5625-256)/32%4*8]+.1*clamp(n.x,-1.,1.)-69)/12)*440;"
       "r+=.03*u*(smoothstep(0.,.001,l)*smoothstep(0.,.001,3*x-l)*exp(-l*3.))*vec2((fract(_*y.w+D.x)+smoothstep(1.,0.,fract(_*y.w+D.x)/(.15*smoothstep(48,32,g)+2*l)))*2-1-.15*smoothstep(48,32,g)-2*l)*e(z);"
     "}"
   "for(int z=0;z<64;z++)"
     "{"
       "int n=max(0,f-z*5625)%360000;"
       "l=n/48000;"
       "float c=mod(l,3*x);"
       "int D=int(21*fract(.825*z));"
       "float _=exp2((42+w[D%8+max(0,(f-n)/5625-256)/32%4*8]+D/8*12-69)/12)*440;"
       "vec2 B=l*_+p(vec3(z)).xy+.4*s(vec2(.1*l*_)).xy;"
       "r+=.2*u*(smoothstep(0.,.002,c)*smoothstep(0.,.01,3*x-c)*exp(-c*12)*exp(-floor(l/(3*x))))*vec2(sin(v*B))*e(y.w);"
     "}"
   "i[f]=smoothstep(72,64,g)*tanh(r);"
 "}" 
#endif

