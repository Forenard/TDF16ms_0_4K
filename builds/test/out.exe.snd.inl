// Generated with Shader Minifier 1.3.6 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_waveOutPosition "u"
#endif
#else // if SHADER_MINIFIER_IMPL
// sound_compute_shader.i
"#version 430\n"
 "const float v=acos(-1.),e=v*2.,x=v*(3.-sqrt(5.)),y=1./2.1,s=.25*y;"
 "int m=int(4.8e4/2.1/4.),f=4*m;"
 "uvec3 p(uvec3 v)"
 "{"
   "v=v*1664525u+1013904223u;"
   "v.x+=v.y*v.z;"
   "v.y+=v.z*v.x;"
   "v.z+=v.x*v.y;"
   "v^=v>>16u;"
   "v.x+=v.y*v.z;"
   "v.y+=v.z*v.x;"
   "v.z+=v.x*v.y;"
   "return v;"
 "}"
 "vec3 t(vec3 v)"
 "{"
   "uvec3 x=p(floatBitsToUint(v));"
   "return vec3(x)/float(-1u);"
 "}"
 "vec2 n(float v)"
 "{"
   "return vec2(cos(v),sin(v));"
 "}"
 "mat2 r(float v)"
 "{"
   "vec2 e=n(v);"
   "return mat2(e.x,e.y,-e.y,e.x);"
 "}"
 "vec3 i(vec2 v)"
 "{"
   "vec2 e=floor(v),f=fract(v);"
   "f=f*f*(3.-2.*f);"
   "vec3 i=mix(t(vec3(e,.12)),t(vec3(e+vec2(1,0),.12)),f.x),s=mix(t(vec3(e+vec2(0,1),.12)),t(vec3(e+vec2(1),.12)),f.x);"
   "return mix(i,s,f.y);"
 "}"
 "vec3 h(vec2 v)"
 "{"
   "const mat2 f=r(x)*2.;"
   "float e=1.;"
   "vec4 m=vec4(0);"
   "for(int w=0;w<6;w++)"
     "m+=e*vec4(i(v),1),e*=.5,v*=f;"
   "return m.xyz/m.w;"
 "}"
 "vec2 d(vec2 v)"
 "{"
   "return sqrt(-2.*log(v.x))*n(e*v.y);"
 "}"
 "mat3 d()"
 "{"
   "vec3 v=vec3(2,-3,1);"
   "v=normalize(v);"
   "vec3 f=vec3(0,1,0),e=normalize(cross(f,v));"
   "f=normalize(cross(v,e));"
   "return mat3(e,f,v);"
 "}"
 "vec3 w(vec3 v)"
 "{"
   "vec4 e=vec4(0);"
   "mat3 f=d();"
   "for(int m=0;m<5;m++)"
     "v*=f,v+=sin(v.zxy),e+=vec4(cross(cos(v),sin(v.yzx)),1),e*=2.,v*=2.;"
   "return e.xyz/e.w;"
 "}"
 "layout(location=0) uniform int u;\n"
 "layout(std430,binding=0)buffer _{vec2 _[];};layout(local_size_x=1)in;"
 "vec2 a(float v)"
 "{"
   "vec2 f=vec2(0);"
   "for(int m=0;m<64;m++)"
     "{"
       "vec3 s=t(vec3(m));"
       "f+=vec2(sin(e*v*exp2(2.*s.x)))*r(e*s.y);"
     "}"
   "return f/64.;"
 "}"
 "float a(float v,float m)"
 "{"
   "float e=fract(v);"
   "return(e+smoothstep(1.,0.,e/m))*2.-1.-m;"
 "}"
 "float B[]=float[](0.,2.,3.,7.,14.,15.,19.,22.,-5.,2.,3.,5.,7.,10.,14.,15.,-4.,0.,3.,7.,14.,15.,19.,24.,-7.,0.,7.,8.,10.,12.,15.,19.);"
 "void main()"
 "{"
   "int v=int(gl_GlobalInvocationID.x)+u;"
   "vec4 i=vec4(v%(f*ivec4(1,4,64,65536)))/4.8e4,c=i*2.1;"
   "int x=c.w>=128.?"
     "int(i.w/8.*2.1)*8%32:"
     "0;"
   "vec2 z=vec2(0);"
   "float l=0.;"
   "{"
     "float b=float(v%f)/4.8e4,g=y-b;"
     "l=smoothstep(0.,.4,b)*smoothstep(0.,.001,g);"
     "z+=.6*tanh(smoothstep(0.,.001,g)*smoothstep(.3,.1,b)*2.*sin(270.*b-20.*exp(-20.*b)-15.*exp(-80.*b)-10.*exp(-5e2*b)));"
   "}"
   "{"
     "float b=float(v%m)/4.8e4,g=smoothstep(0.,.001,b)*smoothstep(0.,.001,s-b),D=.55-.4*exp(-5.*b);"
     "z+=.4*l*g*tanh(2.*sin(exp2((30.+B[x]-69.)/12.)*440.*b*e));"
     "for(int p=0;p<8;p++)"
       "{"
         "vec3 C=t(vec3(p+51));"
         "vec2 A=d(C.xy);"
         "float E=tanh(3.*a(exp2((30.+B[x]+.2*A.x-69.)/12.)*440.*b+C.z,D));"
         "z+=.1*l*tanh(2.*g*E);"
       "}"
   "}"
   "if(32.<=c.w&&c.w<128.||c.w>=192.)"
     "{"
       "float b=float(v%m)/4.8e4;"
       "vec2 g=a(6e3*b);"
       "z+=.3*mix(.4,1.,l)*tanh(smoothstep(0.,.001,s-b)*exp(-exp2(5.+fract(.8+.631*vec3(floor(v/m%16))).x)*b)*2.*g);"
     "}"
   "if(64.<=c.w&&c.w<128.||c.w>=256.)"
     "{"
       "float b=mod(i.y-y,2.*y);"
       "vec2 g=w(vec3(4.*n(1e3*b),480.*b)).xy;"
       "z+=.1*tanh(3.*mix(exp(-80.*mod(b,.02)),exp(-20.*b),smoothstep(.02,.04,b))*g);"
     "}"
   "if(64.<=c.w&&c.w<128.||c.w>=192.)"
     "for(int b=0;b<16;b++)"
       "{"
         "vec3 g=t(vec3(b)+4.995),D=t(g);"
         "float p=i.z;"
         "p=mod(mod(p,8.*y)-.25*y*float(b),.25*y*floor(3.+14.*g.x));"
         "float E=exp(-exp2(5.+3.*g.y)*p),A=exp2(8.+8.*D.x);"
         "vec2 C=w(vec3(exp2(-2.+4.*D.y)*n(A*p),exp2(-2.+5.*D.z)*A*p)).xy;"
         "z+=.08*l*tanh(3.*E*C);"
       "}"
   "for(int b=0;b<64;b++)"
     "{"
       "vec3 g=t(vec3(b));"
       "vec2 p=d(g.xy);"
       "float D=smoothstep(160.,224.,c.w),E=float((v-int(exp2(9.2*D))*b)%(3*m))/4.8e4,A=smoothstep(0.,.001,E)*smoothstep(0.,.001,.75*y-E)*exp(-3.*E),C=exp2((54.+B[b%int(mix(4.,8.,clamp((c.w-128.)/64.,0.,1.)))+x]+.1*clamp(p.x,-1.,1.)-69.)/12.)*440.,F=C*i.z+g.x;"
       "{"
         "vec2 G=vec2(a(F,1.-mix(.9,.99,D)*exp(-mix(3.,1.,D)*E)));"
         "z+=.03*mix(.2,1.,l)*A*G*r(float(b));"
       "}"
     "}"
   "if(c.w>=128.)"
     "{"
       "vec2 b=vec2(0);"
       "for(int g=0;g<64;g++)"
         "{"
           "float p=float((v-g*m)%(64*m))/4.8e4,D=float(g),E=mod(p,.75*y);"
           "int C=int(21.*fract(.825*D));"
           "vec2 A=exp2((42.+B[C%8+x]+12.*float(C/8)-69.)/12.)*440.*p+t(vec3(D)).xy;"
           "A+=.4*h(vec2(.1*A.x)).xy;"
           "vec2 G=vec2(sin(e*A));"
           "b+=smoothstep(0.,.002,E)*smoothstep(0.,.01,.75*y-E)*exp(-12.*E)*exp(-floor(p/(.75*y)))*2.*G*r(i.w);"
         "}"
       "z+=.1*mix(.2,1.,l)*b;"
     "}"
   "_[v]=z;"
 "}" 
#endif

