// Generated with Shader Minifier 1.3.6 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_backBuffer0 "v"
# define VAR_outColor0 "f"
# define VAR_waveOutPosition "m"
#endif
#else // if SHADER_MINIFIER_IMPL
// graphics_fragment_shader.i
"#version 430\n"
 "layout(binding=0) uniform sampler2D v;"
 "layout(location=0) uniform int m;"
 "vec2 i=vec2(1920,1080);"
 "float n=m/4.8e4;"
 "out vec4 f;"
 "float x;"
 "int c;"
 "const float y=acos(-1.),z=2.*y,a=y*(3.-sqrt(5.));"
 "const vec3 d=vec3(255,137,14)/255.,l=vec3(191,211,255)/255.;"
 "vec2 s(float v)"
 "{"
   "return vec2(cos(v),sin(v));"
 "}"
 "mat2 t(float v)"
 "{"
   "vec2 u=s(v);"
   "return mat2(u.x,u.y,-u.y,u.x);"
 "}"
 "vec2 p(vec2 v)"
 "{"
   "float f=atan(v.y,v.x)+z-y*.5+y/32.;"
   "f=mod(f,z/32.)+y*.5-y/32.;"
   "return s(f)*length(v);"
 "}"
 "bool p(float v,float m,out float f)"
 "{"
   "f=(x-v)/(m-v);"
   "return 0.<=f&&f<1.;"
 "}"
 "vec3 e(vec3 v)"
 "{"
   "uvec3 f=floatBitsToUint(v);"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "return vec3(f)/float(-1u);"
 "}"
 "vec3 h(vec2 v)"
 "{"
   "vec2 f=floor(v),u=fract(v);"
   "u=u*u*(3.-2.*u);"
   "vec3 m=mix(e(vec3(f,.12)),e(vec3(f+vec2(1,0),.12)),u.x),x=mix(e(vec3(f+vec2(0,1),.12)),e(vec3(f+vec2(1),.12)),u.x);"
   "return mix(m,x,u.y);"
 "}"
 "vec3 r(vec2 v)"
 "{"
   "const mat2 m=t(a)*2.;"
   "float f=1.;"
   "vec4 u=vec4(0);"
   "for(int i=0;i<6;i++)"
     "u+=f*vec4(h(v),1),f*=.5,v*=m;"
   "return u.xyz/u.w;"
 "}"
 "float w(float v)"
 "{"
   "return v*v*(v*v)*v;"
 "}"
 "float e(float v,float m)"
 "{"
   "float x=m*v,f=v/(1.-m*m+x*x);"
   "return f*f*(1./y);"
 "}"
 "float e(float v,float x,float f)"
 "{"
   "float u=v*v;"
   "return.5/(f*sqrt(max(0.,x*x*(1.-u)+u))+x*sqrt(max(0.,f*f*(1.-u)+u)));"
 "}"
 "vec3 h(vec3 v,float u)"
 "{"
   "return v+(1.-v)*w(1.-u);"
 "}"
 "float p(float v,float u)"
 "{"
   "return 1.+(v-1.)*w(1.-u);"
 "}"
 "float e(float v,float m,float f,float x)"
 "{"
   "float u=.5+2.*v*x*x;"
   "return p(f,u)*p(m,u)*(1./y);"
 "}"
 "vec3 e(vec3 v,float u,float m,vec3 f,vec3 x,vec3 y)"
 "{"
   "float i=m*m;"
   "i=max(i,.001);"
   "vec3 z=normalize(f+x);"
   "float o=clamp(dot(y,x),0.,1.)+1e-5,c=clamp(dot(y,f),0.,1.),a=clamp(dot(f,z),0.,1.),d=e(i,clamp(dot(y,z),0.,1.)),l=e(i,o,c);"
   "vec3 s=v*(1.-u)*e(i,o,c,a);"
   "return(d*l*h(.04*(1.-u)+v*u,a)+s)*c;"
 "}"
 "float h(float v,float u,float f)"
 "{"
   "return max(f,min(v,u))-length(max(vec2(f-v,f-u),vec2(0)));"
 "}"
 "float r(float v,float u,float f)"
 "{"
   "return min(-f,max(v,-u))+length(max(vec2(f+v,f-u),vec2(0)));"
 "}"
 "float r(vec3 v,vec3 u)"
 "{"
   "vec3 f=abs(v)-u*.5;"
   "return min(max(f.x,max(f.y,f.z)),0.)+length(max(f,0.));"
 "}"
 "float s(vec3 v,float f,float u)"
 "{"
   "return length(v-vec3(0,clamp(v.y,0.,f),0))-u;"
 "}"
 "const vec2 u=vec2(5.7,4)*.5;"
 "vec2 g(inout vec3 v)"
 "{"
   "vec2 f=floor(v.xy/u)*u+u*.5;"
   "v.xy=mod(v.xy,u)-.5*u;"
   "return f;"
 "}"
 "float b(vec3 v)"
 "{"
   "vec3 f=v;"
   "vec2 m=g(v);"
   "vec3 i=e(vec3(m,0));"
   "float a,o;"
   "vec3 n;"
   "bool d=fract(.5*m.x/u.x)<.5;"
   "float l=float(!d)*1e9,A=float(d)*1e9;"
   "n=abs(fract(f*10.)-.5);"
   "float t=dot(vec3(1),smoothstep(.04,.02,n))/3.*.002;"
   "const float b=u.x*.2;"
   "float C=min(max((v.x--u.x*.5-b)/(u.x*.5-b--u.x*.5-b),0.),1.)*u.y+u.y*.25,D=v.y-C,B=min(min(max((min(abs(D),abs(D+u.y))-u.y*.25)*(b*2./sqrt(u.y*u.y+b*b*4.)),-v.z),-v.z+3.),max(abs(v.x)-u.x*.5+b,-v.z+.5));"
   "B+=t*.5;"
   "n=v-vec3(-u.x*.45,0,-.07);"
   "n.x=abs(n.x-.1)-.1;"
   "B=min(B,length(n.xz)-.07);"
   "n.y=abs(fract(n.y)-.5)-.06;"
   "B=min(B,s((n-vec3(-.11,0,0)).yxz,.04,.01));"
   "vec2 E=abs(vec2(length(n.xz),n.y))-vec2(.08,.02);"
   "B=min(B,min(max(E.x,E.y),0.)+length(max(E,0.)));"
   "B+=l;"
   "float F=-v.z;"
   "F=r(F,r(v,vec3(u-.2,4)),.01);"
   "n=v-vec3(0,0,.75);"
   "n.x=abs(n.x);"
   "const vec2 w=u-.2;"
   "F=h(F,r(n,vec3(w,.05)),.01);"
   "const vec3 G=vec3(w.x*.25-.125,w.y*.75,.1);"
   "F=r(F,r(n-vec3(G.x*.5+.05,-G.y*.1,0),G),.01);"
   "const vec3 H=vec3(G.x,G.y*.5,G.z);"
   "F=r(F,r(n-vec3(H.x*1.5+.15,H.y*.3,0),H),.01);"
   "F=min(F,-.01+r(v-vec3(0,-u.y*.25,.1),vec3(u.x-.2,u.y*.3,.025)));"
   "n=v-vec3(0,-u.y*.25,.1);"
   "n.x=n.x-.2*clamp(round(n.x/.2),-6,6);"
   "F=r(F,r(n,vec3(.06,u.y*.25,.05)),.01);"
   "F=min(F,-.01+r(v-vec3(0,-u.y*.1-.025,0),vec3(u.x-.2,.05,.2)));"
   "a=-.01+r(v-vec3(1.1,-.77,-.02),vec3(.4,.28,.1));"
   "n=v-vec3(1.1,-.77,-.02)-vec3(-.06,0,-.1);"
   "a=r(a,s(n.xzy,.1,.1),.005);"
   "n.z-=.05;"
   "a=min(a,-.002+s(n.xzy,.02,.02));"
   "n.xy=p(n.xy);"
   "a=h(a,s(n,.1,.002),.005);"
   "F=min(F,a);"
   "F+=A;"
   "float I=min(F,B),J=smoothstep(0.,1.5,.9-v.y);"
   "vec3 K=v;"
   "K.x*=mix(1.1,1.,J);"
   "float L=i.x*z,M=x*.5+L,N=cos(L+K.x*y*7.+.5*y*cos(K.x*7.))*.05+cos(K.x*2.+M*2.+.5*y*cos(M))*.05;"
   "K-=vec3(0,0,1.+N*J);"
   "a=r(K,vec3(u-.4,.01))*.5-.01;"
   "a+=A;"
   "c=a<I?"
     "1:"
     "0;"
   "I=min(I,a);"
   "o=length(v-vec3(sign(i.x-.5),-.09,0))-.1;"
   "o+=A;"
   "a=length(v-vec3(-u*.5+.1,2.9))-.1;"
   "a+=l;"
   "a=min(a,o);"
   "c=a<I?"
     "2:"
     "c;"
   "return min(I,a);"
 "}"
 "vec2 b(vec3 v,vec3 m,out vec3 f)"
 "{"
   "float i=1.,x=1e2,a,n=0.;"
   "for(int F=0;F<256;F++)"
     "{"
       "f=m+v*n;"
       "float o;"
       "if(p(90.,105.,o))"
         "f.z=abs(f.z)-2.;"
       "if(p(105.,120.,o))"
         "f.xz=vec2((atan(f.z,f.x)+y)/z*u.x*8.,length(f.xz)),f.z-=4.;"
       "a=b(f);"
       "float c=a*a/(2.*x),l=sqrt(a*a-c*c);"
       "i=min(i,l/(.02*max(0.,n-c)));"
       "x=a;"
       "vec2 d=(floor((f.xy+sign(v.xy)*u)/u)+.5)*u,r=abs(d-f.xy)-.5*u;"
       "r=max(r,0.)/abs(v.xy)+.001+float(f.z<-2.)*1e2;"
       "a=min(a,min(r.x,r.y));"
       "n+=a;"
       "if(a<.001)"
         "return vec2(1,.1);"
       "if(n>1e2)"
         "return vec2(0,max(i,.1));"
     "}"
   "return vec2(0,max(i,.1));"
 "}"
 "const vec3 o=normalize(vec3(1,1,-1));"
 "vec3 B(vec3 v)"
 "{"
   "vec2 f=vec2(atan(v.x,-v.z),acos(v.y)*2.)/z*20.+vec2(.05,.01)*x;"
   "vec3 m=vec3(mix(.1,.5,r(f).x)),a=mix(vec3(.01),m,clamp((v.y+.5)*.5,0.,1.));"
   "float u=clamp(dot(v,o),0.,1.);"
   "u=smoothstep(.8,1.,u);"
   "a*=mix(1.,3.,u);"
   "a=mix(a,vec3(1),pow(min(max((u*u-.995)/.005,0.),1.),5.));"
   "a*=min(max((v.y-1.)/-.1,0.),1.);"
   "return a;"
 "}"
 "vec3 B(inout vec3 v,vec3 f,vec3 m)"
 "{"
   "vec3 a=sign(m)*abs(m);"
   "a/=dot(vec3(1),a);"
   "vec2 x=a.x*v.zy+a.y*v.xz+a.z*v.xy;"
   "vec3 i=v;"
   "vec2 n=g(i);"
   "vec3 F=e(vec3(.1,n));"
   "float y=0.;"
   "vec3 B=vec3(1);"
   "float z=.5,A=.5;"
   "vec3 s=(step(F.y,.9)*.8+.2)*mix(d,l,F.x);"
   "if(c==0)"
     "{"
       "vec3 E=r(x*3.*vec2(3,1)),K=r(x*96.*vec2(2,1));"
       "B=vec3(clamp(1.3*mix(.6,1.,E.y)*mix(.8,1.,pow(K.x,3.)),0.,1.));"
       "z=mix(.5,1.,pow(E.y,3.));"
       "A=.01;"
       "m=normalize(m+(E*2.-1.)*.05);"
     "}"
   "else if(c==1)"
     "{"
       "float t=F.x;"
       "B=t<.7?"
         "vec3(.8,.7,.6):"
         "t<.8?"
           "vec3(.8,.2,.2):"
           "t<.9?"
             "vec3(.8,.6,.3):"
             "vec3(.5,.7,.8);"
       "z=.99;"
       "A=.01;"
     "}"
   "else"
     " y=1.,B=s;"
   "v+=m*.001*2.;"
   "vec3 E;"
   "vec2 t=b(o,v,E);"
   "vec3 K=vec3(0);"
   "K+=t.y*e(B,A,z,o,f,m)*l;"
   "vec3 C=(fract(.5*n.x/u.x)<.5?"
     "vec3(-u*.5+.1,2.9):"
     "vec3(sign(F.x-.5),-.06,0))-i;"
   "float D=length(C);"
   "C/=D;"
   "K+=s*pow(1./(1.+max(0.,D)),2.)*e(B,A,z,C,f,m);"
   "K*=sqrt(clamp(b(v+m*.05)/.05,0.,1.));"
   "return mix(K,B,y);"
 "}"
 "const vec2 C=gl_FragCoord.xy,A=i.xy,D=A/min(A.x,A.y);"
 "vec2 E=vec2(.5);"
 "void B(out vec3 v,out vec3 f,out vec3 m,vec2 i)"
 "{"
   "float a=60.,c=0.;"
   "v=vec3(1);"
   "m=vec3(0,0,1);"
   "float n=0.;"
   "if(p(0.,15.,n))"
     "v=vec3(.2,.2,mix(2.2,1.5,n)),m=normalize(mix(vec3(.5,1.5,1),vec3(.1,.1,1),n));"
   "else if(p(15.,30.,n))"
     "a=mix(60.,90.,n),c=mix(0.,.4,n),v=mix(vec3(.4,.2,2),vec3(.35,.6,.4),n),m=normalize(mix(vec3(-.5,-1,-1),vec3(0,0,-1),n));"
   "else if(p(30.,45.,n))"
     "v=vec3(mix(.8-u.x,-.1,n),-1,0),m=normalize(vec3(-1,-.1,.3));"
   "else if(p(45.,60.,n))"
     "v=vec3(mix(-.5,.2-u.x,n),-1.8,-.3),m=normalize(vec3(1,.2,.8));"
   "else if(p(60.,75.,n))"
     "{"
       "float z=floor(n*3.)*8.+fract(n*3.);"
       "v=vec3(0,0,-1.-z);"
       "m=vec3(0,0,1);"
     "}"
   "else if(p(77.,90.,n))"
     "{"
       "float z=20.*n;"
       "vec3 F=vec3(-u.x*.5+.3,z*u.y,0);"
       "v=F+vec3(mix(3,-3,n),-5,-3);"
       "m=normalize(F-v);"
     "}"
   "else if(p(90.,105.,n))"
     "v=vec3(-x*4.,0,0),m=normalize(vec3(-1,mix(.2,-.2,n),0));"
   "else if(p(105.,120.,n))"
     "v=vec3(0,x*2.,0),m=normalize(vec3(0,1,mix(0.,1.,n))),m.xz*=t(y*n);"
   "vec3 F=(r(vec2(-4.2,x*.1))*2.-1.)*.05;"
   "v+=F;"
   "vec3 B=vec3(0,1,0),z=normalize(cross(B,m));"
   "B=normalize(cross(m,z));"
   "mat3 d=mat3(z,B,m);"
   "float o=1./tan(a*y/360.);"
   "o-=o*length(i)*c;"
   "f=normalize(d*vec3(i,o));"
 "}"
 "vec4 B(vec3 v,vec3 u)"
 "{"
   "vec3 f;"
   "if(b(v,u,f).x<.5)"
     "return vec4(B(v),100);"
   "float m=length(f-u);"
   "const vec2 n=vec2(1,-1);"
   "int a=c;"
   "vec3 x=normalize(n.xyy*b(f+n.xyy*.001)+n.yyx*b(f+n.yyx*.001)+n.yxy*b(f+n.yxy*.001)+n.xxx*b(f+n.xxx*.001));"
   "c=a;"
   "vec3 i=B(f,-v,x);"
   "return vec4(i,m);"
 "}"
 "vec3 F(vec3 v)"
 "{"
   "return v*(2.51*v+.03)/(v*(2.43*v+.59)+.14);"
 "}"
 "vec3 F(vec3 v,vec3 f)"
 "{"
   "v+=e(f)*.05;"
   "v=pow(v,vec3(.8));"
   "v=F(v);"
   "v.x=smoothstep(-.025,1.025,v.x);"
   "float m=0.;"
   "if(p(0.,10.,m))"
     "v*=m*m;"
   "else if(p(14.,16.,m))"
     "v*=2.*abs(m-.5);"
   "else if(p(29.,31.,m))"
     "v*=2.*abs(m-.5);"
   "else if(p(44.,46.,m))"
     "v*=2.*abs(m-.5);"
   "else if(p(59.,61.,m))"
     "v*=2.*abs(m-.5);"
   "else if(p(74.,77.,m))"
     "v*=clamp(75.-x,0.,1.);"
   "else if(p(119.,120.,m))"
     "v*=1.-m;"
   "else if(x>=120.)"
     "v*=0.;"
   "return v;"
 "}"
 "void main()"
 "{"
   "x=n;"
   "vec2 m=C/A;"
   "m+=(e(vec3(C,x)).xy-.5)*.25/A;"
   "vec2 u=(m-.5)*2.*D;"
   "vec3 i,a,o;"
   "B(i,a,o,u);"
   "vec4 y=B(a,i);"
   "y.xyz=F(y.xyz,vec3(-x,4.2*m));"
   "vec4 z=texture(v,m);"
   "f=mix(y,z,.5);"
 "}" 
#endif

