// Generated with Shader Minifier 1.3.6 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_backBuffer0 "v"
# define VAR_outColor0 "i"
# define VAR_waveOutPosition "m"
#endif
#else // if SHADER_MINIFIER_IMPL
// graphics_fragment_shader.i
"#version 430\n"
 "layout(binding=0) uniform sampler2D v;"
 "layout(location=0) uniform int m;"
 "vec2 n=vec2(1920,1080);"
 "float f=m/4.8e4;"
 "layout(location=0) out vec4 i;"
 "float x;"
 "int c;"
 "const float y=acos(-1.),z=y*2.,a=y*(3.-sqrt(5.));"
 "const vec3 d=vec3(255,137,14)/255.,l=vec3(191,211,255)/255.;"
 "vec2 s(float v)"
 "{"
   "return vec2(cos(v),sin(v));"
 "}"
 "mat2 t(float v)"
 "{"
   "vec2 u=s(v);"
   "return mat2(u.x,u.y,-u.y,u.x);"
 "}"
 "bool s(float v,float m,out float y)"
 "{"
   "y=(x-v)/(m-v);"
   "return 0.<=y&&y<1.;"
 "}"
 "vec3 p(vec3 v)"
 "{"
   "uvec3 u=floatBitsToUint(v);"
   "u=(u>>8U^u.yzx)*1103515245u;"
   "u=(u>>8U^u.yzx)*1103515245u;"
   "u=(u>>8U^u.yzx)*1103515245u;"
   "return vec3(u)/float(-1u);"
 "}"
 "vec3 e(vec2 v)"
 "{"
   "vec2 m=floor(v),u=fract(v);"
   "u=u*u*(3.-2.*u);"
   "vec3 y=mix(p(vec3(m,.12)),p(vec3(m+vec2(1,0),.12)),u.x),x=mix(p(vec3(m+vec2(0,1),.12)),p(vec3(m+vec2(1),.12)),u.x);"
   "return mix(y,x,u.y);"
 "}"
 "vec3 h(vec2 v)"
 "{"
   "const mat2 m=t(a)*2.;"
   "float x=1.;"
   "vec4 u=vec4(0);"
   "for(int f=0;f<6;f++)"
     "u+=x*vec4(e(v),1),x*=.5,v*=m;"
   "return u.xyz/u.w;"
 "}"
 "float r(float v)"
 "{"
   "return v*v*(v*v)*v;"
 "}"
 "vec3 e(vec3 v,float u,float m,vec3 x,vec3 f,vec3 i)"
 "{"
   "float c=m*m;"
   "c=max(c,.001);"
   "vec3 z=.04*(1.-u)+v*u,l=normalize(x+f);"
   "float o=clamp(dot(i,f),0.,1.)+1e-5,a=clamp(dot(i,x),0.,1.),n=clamp(dot(i,l),0.,1.),p=clamp(dot(x,l),0.,1.),s=n*c,d=c/(1.-n*n+s*s),g=c*c,b=.5+2.*c*p*p;"
   "return(d*d/y*(.5/(a*sqrt(max(0.,o*o*(1.-g)+g))+o*sqrt(max(0.,a*a*(1.-g)+g))))*(z+(1.-z)*r(1.-p))+v*(1.-u)*((1.+(b-1.)*r(1.-a))*(1.+(b-1.)*r(1.-o))/y))*a;"
 "}"
 "float e(float v,float x,float y)"
 "{"
   "return min(v,x);"
 "}"
 "float h(float v,float x,float y)"
 "{"
   "return max(v,-x);"
 "}"
 "float e(vec3 v,vec3 x)"
 "{"
   "vec3 u=abs(v)-x*.5;"
   "return min(max(u.x,max(u.y,u.z)),0.)+length(max(u,0.));"
 "}"
 "const vec2 u=vec2(6,4)*.5;"
 "vec2 w(inout vec3 v)"
 "{"
   "vec2 m=floor(v.xy/u)*u+u*.5;"
   "v.xy=mod(v.xy,u)-.5*u;"
   "return m;"
 "}"
 "float b(vec3 v)"
 "{"
   "vec3 m=v;"
   "vec2 f=w(v);"
   "vec3 n=p(vec3(f,0));"
   "float i,l;"
   "vec3 a;"
   "bool d=fract(.5*f.x/u.x)<.5;"
   "float o=float(!d)*1e9,g=float(d)*1e9;"
   "a=abs(fract(m*10.)-.5);"
   "float b=dot(vec3(1),smoothstep(.04,.02,a))/3.*.001;"
   "const float r=u.x*.2;"
   "float B=min(max((v.x--u.x*.5-r)/(u.x*.5-r--u.x*.5-r),0.),1.)*u.y+u.y*.25,t=v.y-B,C=min(min(max((min(abs(t),abs(t+u.y))-u.y*.25)*(r*2./sqrt(u.y*u.y+r*r*4.)),-v.z),-v.z+3.),max(abs(v.x)-u.x*.5+r,-v.z+.5));"
   "C+=b;"
   "a=v-vec3(-u.x*.45,0,-.07);"
   "a.x=abs(a.x-.1)-.1;"
   "C=min(C,length(a.xz)-.07);"
   "a.y=abs(fract(a.y)-.5)-.06;"
   "C=min(C,e(a+vec3(.1,0,0),vec3(.05,0,0))-.01);"
   "vec2 A=abs(vec2(length(a.xz),a.y))-vec2(.08,.02);"
   "C=min(C,min(max(A.x,A.y),0.)+length(max(A,0.)));"
   "C+=o;"
   "float D=-v.z;"
   "D=h(D,e(v,vec3(u-.2,4)),.01);"
   "a=v-vec3(0,0,.75);"
   "a.x=abs(a.x);"
   "const vec2 E=u-.2;"
   "D=e(D,e(a,vec3(E,.05)),.01);"
   "const vec3 F=vec3(E.x*.25-.125,E.y*.75,.1);"
   "D=h(D,e(a-vec3(F.x*.5+.05,-F.y*.1,0),F),.01);"
   "const vec3 G=vec3(F.x,F.y*.5,F.z);"
   "D=h(D,e(a-vec3(G.x*1.5+.15,G.y*.3,0),G),.01);"
   "D=min(D,-.01+e(v-vec3(0,-u.y*.25,.1),vec3(u.x-.2,u.y*.3,.025)));"
   "a=v-vec3(0,-u.y*.25,.1);"
   "a.x=a.x-.2*clamp(round(a.x/.2),-6,6);"
   "D=h(D,e(a,vec3(.06,u.y*.25,.05)),.01);"
   "D=min(D,-.01+e(v-vec3(0,-u.y*.1-.025,0),vec3(u.x-.2,.05,.2)));"
   "i=-.01+e(v-vec3(1.1,-.77,-.02),vec3(.4,.28,.1));"
   "a=v-vec3(1.1,-.77,-.02)-vec3(-.06,0,-.1);"
   "i=h(i,e(a,vec3(0,0,.1))-.1,.005);"
   "a.z-=.05;"
   "i=min(i,length(a)-.015);"
   "const float H=y/32.;"
   "float I=atan(a.y,a.x);"
   "I=mod(I,H*2.)-H;"
   "a.xy=s(I)*length(a.xy);"
   "i=e(i,e(a,vec3(.2,0,0))-.002,.005);"
   "D=min(D,i);"
   "D+=g;"
   "float J=min(D,C),K=smoothstep(0.,1.5,.9-v.y);"
   "vec3 L=v;"
   "L.x*=mix(1.1,1.,K);"
   "float M=n.x*z,N=x*.5+M,O=cos(M+L.x*y*7.+.5*y*cos(L.x*7.))*.05+cos(L.x*2.+N*2.+.5*y*cos(N))*.05;"
   "L-=vec3(0,0,1.+O*K);"
   "i=e(L,vec3(u-.4,.01))*.5-.01;"
   "i+=g;"
   "c=i<J?"
     "1:"
     "0;"
   "J=min(J,i);"
   "l=length(v-vec3(sign(n.x-.5),-.09,0))-.1;"
   "l+=g;"
   "i=length(v-vec3(-u*.5+.1,2.9))-.1;"
   "i+=o;"
   "i=min(i,l);"
   "c=i<J?"
     "2:"
     "c;"
   "return min(J,i);"
 "}"
 "vec2 b(vec3 v,vec3 m,out vec3 a)"
 "{"
   "float i=1.,f=1e2,x,c=0.;"
   "for(int D=0;D<256;D++)"
     "{"
       "a=m+v*c;"
       "float l;"
       "if(s(90.,105.,l))"
         "a.z=abs(a.z)-2.;"
       "if(s(105.,120.,l))"
         "a.xz=vec2((atan(a.z,a.x)+y)/z*u.x*8.,length(a.xz)),a.z-=4.;"
       "x=b(a);"
       "float r=x*x/(2.*f),o=sqrt(x*x-r*r);"
       "i=min(i,o/(.02*max(0.,c-r)));"
       "f=x;"
       "vec2 d=(floor((a.xy+sign(v.xy)*u)/u)+.5)*u,C=abs(d-a.xy)-.5*u;"
       "C=max(C,0.)/abs(v.xy)+.001+float(a.z<-2.)*1e2;"
       "x=min(x,min(C.x,C.y));"
       "c+=x;"
       "if(x<.001)"
         "return vec2(1,.1);"
       "if(c>1e2)"
         "return vec2(0,max(i,.1));"
     "}"
   "return vec2(0,max(i,.1));"
 "}"
 "const vec3 o=normalize(vec3(1,1,-1));"
 "vec3 B(vec3 v)"
 "{"
   "vec2 m=vec2(atan(v.x,-v.z),acos(v.y)*2.)/z*20.+vec2(.05,.01)*x;"
   "vec3 i=vec3(mix(.1,.5,h(m).x)),a=mix(vec3(.01),i,clamp((v.y+.5)*.5,0.,1.));"
   "float u=clamp(dot(v,o),0.,1.);"
   "u=smoothstep(.8,1.,u);"
   "a*=mix(1.,3.,u);"
   "a=mix(a,vec3(1),pow(min(max((u*u-.995)/.005,0.),1.),5.));"
   "a*=min(max((v.y-1.)/-.1,0.),1.);"
   "return a;"
 "}"
 "void main()"
 "{"
   "x=f;"
   "const vec2 m=gl_FragCoord.xy,a=n.xy,D=m/a;"
   "const vec3 C=p(vec3(m,x));"
   "const vec2 z=(D-.5+(C.xy-.5)*.25/a)*2.*(a/min(a.x,a.y));"
   "float r=60.,g=0.;"
   "vec3 F=vec3(1),L=vec3(0,0,-1),I;"
   "float G=0.;"
   "if(s(0.,15.,G))"
     "F=vec3(.2,.2,mix(2.2,1.5,G)),L=normalize(mix(vec3(.5,1.5,1),vec3(.1,.1,1),G));"
   "else if(s(15.,30.,G))"
     "r=mix(60.,90.,G),g=mix(0.,.4,G),F=mix(vec3(.4,.2,2),vec3(.35,.6,.4),G),L=normalize(mix(vec3(-.5,-1,-1),vec3(0,0,-1),G));"
   "else if(s(30.,45.,G))"
     "F=vec3(mix(.8-u.x,-.1,G),-1,0),L=normalize(vec3(-1,-.1,.3));"
   "else if(s(45.,60.,G))"
     "F=vec3(mix(-.5,.2-u.x,G),-1.8,-.3),L=normalize(vec3(1,.2,.8));"
   "else if(s(60.,75.,G))"
     "{"
       "float H=floor(G*3.)*8.+fract(G*3.);"
       "F=vec3(0,0,-1.-H);"
       "L=vec3(0,0,1);"
     "}"
   "else if(s(77.,90.,G))"
     "{"
       "float H=20.*G;"
       "vec3 J=vec3(-u.x*.5+.3,H*u.y,0);"
       "F=J+vec3(mix(3,-3,G),-5,-3);"
       "L=normalize(J-F);"
     "}"
   "else if(s(90.,105.,G))"
     "F=vec3(-x*4.,0,0),L=normalize(vec3(-1,mix(.2,-.2,G),0));"
   "else if(s(105.,120.,G))"
     "F=vec3(0,x*2.,0),L=normalize(vec3(0,1,mix(0.,1.,G))),L.xz*=t(y*G);"
   "const vec3 H=(h(vec2(-4.2,x*.1))*2.-1.)*.05;"
   "F+=H;"
   "const vec3 J=normalize(cross(vec3(0,1,0),L));"
   "const mat3 A=mat3(J,normalize(cross(L,J)),L);"
   "const float K=1./tan(r*y/360.)*(1.-length(z)*g);"
   "I=normalize(A*vec3(z,K));"
   "vec3 E;"
   "vec2 M=b(I,F,E);"
   "float N=length(E-F);"
   "const vec2 O=vec2(1,-1);"
   "int P=c;"
   "vec3 Q=normalize(O.xyy*b(E+O.xyy*.001)+O.yyx*b(E+O.yyx*.001)+O.yxy*b(E+O.yxy*.001)+O.xxx*b(E+O.xxx*.001));"
   "c=P;"
   "vec3 R=sign(Q)*abs(Q);"
   "R/=dot(vec3(1),R);"
   "vec2 S=(R.x*E.zy+R.y*E.xz+R.z*E.xy)*vec2(3,1);"
   "vec3 T=E;"
   "vec2 U=w(T);"
   "vec3 V=p(vec3(U,0));"
   "float W=0.;"
   "vec3 X=vec3(1);"
   "float Y=.5,Z=.5;"
   "vec3 _=(step(V.y,.9)*.8+.2)*mix(d,l,V.x);"
   "if(c==0)"
     "{"
       "vec3 j=h(S*3.),k=h(S*96.);"
       "X=vec3(clamp(1.3*mix(.6,1.,j.y)*mix(.8,1.,pow(k.x,3.)),0.,1.));"
       "Y=mix(.5,1.,pow(j.y,3.));"
       "Z=.01;"
       "Q=normalize(Q+(j*2.-1.)*.05);"
     "}"
   "else if(c==1)"
     "X=vec3[](vec3(.8,.7,.6),vec3(.8,.2,.2),vec3(.5,.7,.8))[int(V.x*3.)],Y=.99,Z=.01;"
   "else"
     " W=1.,X=_;"
   "E+=Q*.001*2.;"
   "vec3 j;"
   "vec2 k=b(o,E,j);"
   "vec3 q=vec3(0);"
   "q+=k.y*e(X,Z,Y,o,-I,Q)*l;"
   "vec3 at=(fract(.5*U.x/u.x)<.5?"
     "vec3(-u*.5+.1,2.9):"
     "vec3(sign(V.x-.5),-.06,0))-T;"
   "float ax=length(at);"
   "q+=_*pow(1./(1.+max(0.,ax)),2.)*e(X,Z,Y,at/ax,-I,Q);"
   "q*=sqrt(clamp(b(E+Q*.05)/.05,0.,1.));"
   "q=mix(q,X,W);"
   "vec4 au=mix(vec4(B(I),100),vec4(q,N),M.x);"
   "vec3 aa=au.xyz;"
   "aa+=C*.03;"
   "aa=pow(aa,vec3(.8));"
   "aa=aa*(2.51*aa+.03)/(aa*(2.43*aa+.59)+.14);"
   "aa.x=smoothstep(-.05,1.05,aa.x);"
   "aa*=clamp((.5-abs(G-.5))*10.,0.,1.);"
   "au.xyz=aa;"
   "i=mix(au,texture(v,D),.5);"
 "}" 
#endif

