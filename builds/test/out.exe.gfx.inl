// Generated with Shader Minifier 1.3.6 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADER_MINIFIER_IMPL
#ifndef SHADER_MINIFIER_HEADER
# define SHADER_MINIFIER_HEADER
# define VAR_backBuffer0 "v"
# define VAR_outColor0 "f"
# define VAR_waveOutPosition "m"
#endif
#else // if SHADER_MINIFIER_IMPL
// graphics_fragment_shader.i
"#version 430\n"
 "layout(binding=0) uniform sampler2D v;"
 "layout(location=0) uniform int m;"
 "vec2 i=vec2(1920,1080);"
 "float n=m/4.8e4;"
 "out vec4 f;"
 "float x;"
 "int r;"
 "const float y=acos(-1.),z=2.*y,c=y*(3.-sqrt(5.));"
 "const vec3 s=vec3(255,137,14)/255.,o=vec3(191,211,255)/255.;"
 "vec2 t(float v)"
 "{"
   "return vec2(cos(v),sin(v));"
 "}"
 "mat2 p(float v)"
 "{"
   "vec2 l=t(v);"
   "return mat2(l.x,l.y,-l.y,l.x);"
 "}"
 "vec2 e(vec2 v)"
 "{"
   "float f=atan(v.y,v.x)+z-y*.5+y/32.;"
   "f=mod(f,z/32.)+y*.5-y/32.;"
   "return t(f)*length(v);"
 "}"
 "vec2 e(vec3 l,vec3 v)"
 "{"
   "v=sign(v)*pow(abs(v),vec3(1));"
   "v/=dot(vec3(1),v);"
   "return v.x*l.zy+v.y*l.xz+v.z*l.xy;"
 "}"
 "bool e(float v,float m,out float f)"
 "{"
   "f=(x-v)/(m-v);"
   "return 0.<=f&&f<1.;"
 "}"
 "vec3 a(vec3 v)"
 "{"
   "uvec3 f=floatBitsToUint(v);"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "f=(f>>8U^f.yzx)*1103515245u;"
   "return vec3(f)/float(-1u);"
 "}"
 "vec3 h(vec2 v)"
 "{"
   "vec2 f=floor(v),l=fract(v);"
   "l=l*l*(3.-2.*l);"
   "vec3 m=mix(a(vec3(f,.12)),a(vec3(f+vec2(1,0),.12)),l.x),x=mix(a(vec3(f+vec2(0,1),.12)),a(vec3(f+vec2(1),.12)),l.x);"
   "return mix(m,x,l.y);"
 "}"
 "vec3 d(vec2 v)"
 "{"
   "const mat2 m=p(c)*2.;"
   "float f=1.;"
   "vec4 l=vec4(0);"
   "for(int r=0;r<6;r++)"
     "l+=f*vec4(h(v),1),f*=.5,v*=m;"
   "return l.xyz/l.w;"
 "}struct Material{int type;vec3 albedo;float metallic;float roughness;};"
 "float w(float v)"
 "{"
   "return v*v*(v*v)*v;"
 "}"
 "float a(float v,float l)"
 "{"
   "float x=l*v,f=v/(1.-l*l+x*x);"
   "return f*f*(1./y);"
 "}"
 "float a(float v,float l,float f)"
 "{"
   "float x=v*v;"
   "return.5/(f*sqrt(max(0.,l*l*(1.-x)+x))+l*sqrt(max(0.,f*f*(1.-x)+x)));"
 "}"
 "vec3 d(vec3 v,float l)"
 "{"
   "return v+(1.-v)*w(1.-l);"
 "}"
 "float h(float v,float l)"
 "{"
   "return 1.+(v-1.)*w(1.-l);"
 "}"
 "float a(float v,float f,float m,float x)"
 "{"
   "float l=.5+2.*v*x*x;"
   "return h(m,l)*h(f,l)*(1./y);"
 "}"
 "vec3 d(Material v,vec3 f,vec3 x,vec3 m)"
 "{"
   "vec3 l=v.albedo;"
   "float y=v.metallic,n=v.roughness,r=n*n;"
   "r=max(r,.001);"
   "vec3 i=normalize(f+x);"
   "float o=clamp(dot(m,x),0.,1.)+1e-5,z=clamp(dot(m,f),0.,1.),c=clamp(dot(f,i),0.,1.),s=a(r,clamp(dot(m,i),0.,1.)),p=a(r,o,z);"
   "vec3 u=l*(1.-y)*a(r,o,z,c);"
   "return(s*p*d(.04*(1.-y)+l*y,c)+u)*z;"
 "}"
 "float d(float v,float l,float f)"
 "{"
   "return max(f,min(v,l))-length(max(vec2(f-v,f-l),vec2(0)));"
 "}"
 "float h(float v,float l,float f)"
 "{"
   "return min(-f,max(v,l))+length(max(vec2(f+v,f+l),vec2(0)));"
 "}"
 "float p(float v,float l,float f)"
 "{"
   "return h(v,-l,f);"
 "}"
 "float p(vec3 v,vec3 l)"
 "{"
   "vec3 f=abs(v)-l*.5;"
   "return min(max(f.x,max(f.y,f.z)),0.)+length(max(f,0.));"
 "}"
 "float t(vec3 v,float f,float l)"
 "{"
   "v.y-=clamp(v.y,0.,f);"
   "return length(v)-l;"
 "}"
 "const vec2 l=vec2(5.7,4)*.5;"
 "vec2 M(inout vec3 v)"
 "{"
   "vec2 f=floor(v.xy/l)*l+l*.5;"
   "v.xy=mod(v.xy,l)-.5*l;"
   "return f;"
 "}"
 "float u(vec3 v)"
 "{"
   "vec3 f=v;"
   "vec2 m=M(v);"
   "vec3 i=a(vec3(m,0));"
   "float c,o;"
   "vec3 s;"
   "bool u=fract(.5*m.x/l.x)<.5;"
   "float n=float(!u)*1e9,A=float(u)*1e9;"
   "s=abs(fract(f*10.)-.5);"
   "float g=dot(vec3(1),smoothstep(.04,.02,s))/3.*.002;"
   "const float b=l.x*.2;"
   "float D=min(max((v.x--l.x*.5-b)/(l.x*.5-b--l.x*.5-b),0.),1.)*l.y+l.y*.25,C=v.y-D,B=min(min(max((min(abs(C),abs(C+l.y))-l.y*.25)*(b*2./sqrt(l.y*l.y+b*b*4.)),-v.z),-v.z+3.),max(abs(v.x)-l.x*.5+b,-v.z+.5));"
   "B+=g*.5;"
   "s=v-vec3(-l.x*.45,0,-.07);"
   "s.x=abs(s.x-.1)-.1;"
   "B=min(B,length(s.xz)-.07);"
   "s.y=abs(fract(s.y)-.5)-.06;"
   "B=min(B,t((s-vec3(-.11,0,0)).yxz,.04,.01));"
   "vec2 h=abs(vec2(length(s.xz),s.y))-vec2(.08,.02);"
   "B=min(B,min(max(h.x,h.y),0.)+length(max(h,0.)));"
   "B+=n;"
   "float E=-v.z;"
   "E=p(E,p(v,vec3(l-.2,4)),.01);"
   "s=v-vec3(0,0,.75);"
   "s.x=abs(s.x);"
   "const vec2 w=l-.2;"
   "E=d(E,p(s,vec3(w,.05)),.01);"
   "const vec3 F=vec3(w.x*.25-.125,w.y*.75,.1);"
   "E=p(E,p(s-vec3(F.x*.5+.05,-F.y*.1,0),F),.01);"
   "const vec3 G=vec3(F.x,F.y*.5,F.z);"
   "E=p(E,p(s-vec3(G.x*1.5+.15,G.y*.3,0),G),.01);"
   "E=min(E,-.01+p(v-vec3(0,-l.y*.25,.1),vec3(l.x-.2,l.y*.3,.025)));"
   "s=v-vec3(0,-l.y*.25,.1);"
   "s.x=s.x-.2*clamp(round(s.x/.2),-6,6);"
   "E=p(E,p(s,vec3(.06,l.y*.25,.05)),.01);"
   "E=min(E,-.01+p(v-vec3(0,-l.y*.1-.025,0),vec3(l.x-.2,.05,.2)));"
   "c=-.01+p(v-vec3(1.1,-.77,-.02),vec3(.4,.28,.1));"
   "s=v-vec3(1.1,-.77,-.02)-vec3(-.06,0,-.1);"
   "c=p(c,t(s.xzy,.1,.1),.005);"
   "s.z-=.05;"
   "c=min(c,-.002+t(s.xzy,.02,.02));"
   "s.xy=e(s.xy);"
   "c=d(c,t(s,.1,.002),.005);"
   "E=min(E,c);"
   "E+=A;"
   "float H=min(E,B),I=smoothstep(0.,1.5,.9-v.y);"
   "vec3 J=v;"
   "J.x*=mix(1.1,1.,I);"
   "float K=i.x*z,L=x*.5+K,N=cos(K+J.x*y*7.+.5*y*cos(J.x*7.))*.05+cos(J.x*2.+L*2.+.5*y*cos(L))*.05;"
   "J-=vec3(0,0,1.+N*I);"
   "c=p(J,vec3(l-.4,.01))*.5-.01;"
   "c+=A;"
   "r=c<H?"
     "1:"
     "0;"
   "H=min(H,c);"
   "o=length(v-vec3(sign(i.x-.5),-.09,0))-.1;"
   "o+=A;"
   "c=length(v-vec3(-l*.5+.1,2.9))-.1;"
   "c+=n;"
   "c=min(c,o);"
   "r=c<H?"
     "2:"
     "r;"
   "return min(H,c);"
 "}"
 "vec2 M(vec3 v,vec3 m,out vec3 f)"
 "{"
   "float s=1.,c=1e2,x,r=0.;"
   "for(int i=0;i<256;i++)"
     "{"
       "f=m+v*r;"
       "float o;"
       "if(e(90.,105.,o))"
         "f.z=abs(f.z)-2.;"
       "if(e(105.,120.,o))"
         "f.xz=vec2((atan(f.z,f.x)+y)/z*l.x*8.,length(f.xz)),f.z-=4.;"
       "x=u(f);"
       "float b=x*x/(2.*c),E=sqrt(x*x-b*b);"
       "s=min(s,E/(.02*max(0.,r-b)));"
       "c=x;"
       "vec2 a=(floor((f.xy+sign(v.xy)*l)/l)+.5)*l,B=abs(a-f.xy)-.5*l;"
       "B=max(B,0.)/abs(v.xy)+.001+float(f.z<-1.)*1e2;"
       "x=min(x,min(B.x,B.y));"
       "r+=x;"
       "if(x<.001)"
         "return vec2(1,.1);"
       "if(r>1e2)"
         "return vec2(0,max(s,.1));"
     "}"
   "return vec2(0,max(s,.1));"
 "}"
 "Material M(vec3 v,inout vec3 f)"
 "{"
   "Material l=Material(0,vec3(1),.5,.5);"
   "vec2 m=e(v,f),x=M(v);"
   "vec3 c=a(vec3(.1,x));"
   "if(r==0)"
     "{"
       "vec3 i=d(m*3.*vec2(3,1)),E=d(m*96.*vec2(2,1));"
       "l.albedo=vec3(clamp(1.3*mix(.6,1.,i.y)*mix(.8,1.,pow(E.x,3.)),0.,1.));"
       "l.roughness=mix(.5,1.,pow(i.y,3.));"
       "l.metallic=.01;"
       "f=normalize(f+(i*2.-1.)*.05);"
     "}"
   "else if(r==1)"
     "{"
       "float i=c.x;"
       "l.albedo=i<.7?"
         "vec3(.8,.7,.6):"
         "i<.8?"
           "vec3(.8,.2,.2):"
           "i<.9?"
             "vec3(.8,.6,.3):"
             "vec3(.5,.7,.8);"
       "l.roughness=.99;"
       "l.metallic=.01;"
     "}"
   "else"
     " l.type=1,l.albedo=(step(c.y,.9)*.8+.2)*mix(s,o,c.x);"
   "return l;"
 "}"
 "const vec3 b=normalize(vec3(1,1,-1));"
 "vec3 B(vec3 v)"
 "{"
   "vec2 f=vec2(atan(v.x,-v.z),acos(v.y)*2.)/z*20.+vec2(.05,.01)*x;"
   "vec3 l=vec3(mix(.1,.5,d(f).x)),m=mix(vec3(.01),l,clamp((v.y+.5)*.5,0.,1.));"
   "float c=clamp(dot(v,b),0.,1.);"
   "c=smoothstep(.8,1.,c);"
   "m*=mix(1.,3.,c);"
   "m=mix(m,vec3(1),pow(min(max((c*c-.995)/.005,0.),1.),5.));"
   "m*=min(max((v.y-1.)/-.1,0.),1.);"
   "return m;"
 "}"
 "vec3 B(Material v,vec3 f,vec3 m,vec3 x)"
 "{"
   "vec3 r=vec3(0);"
   "vec2 c=M(f);"
   "vec3 i=a(vec3(.1,c)),y=(fract(.5*c.x/l.x)<.5?"
     "vec3(-l*.5+.1,2.9):"
     "vec3(sign(i.x-.5),-.06,0))-f;"
   "float n=length(y);"
   "y/=n;"
   "r+=(step(i.y,.9)*.8+.2)*mix(s,o,i.x)*pow(1./(1.+max(0.,n)),2.)*d(v,y,m,x);"
   "return r;"
 "}"
 "vec3 B(inout vec3 v,vec3 f,vec3 l)"
 "{"
   "Material m=M(v,l);"
   "v+=l*.001*2.;"
   "vec3 x;"
   "vec2 i=M(b,v,x);"
   "vec3 s=vec3(0);"
   "s+=i.y*d(m,b,f,l)*o;"
   "s+=B(m,v,f,l);"
   "s*=sqrt(clamp(u(v+l*.05)/.05,0.,1.));"
   "return mix(s,m.albedo,m.type);"
 "}"
 "const vec2 g=gl_FragCoord.xy,A=i.xy,C=A/min(A.x,A.y);"
 "vec2 D=vec2(.5);"
 "void M(out vec3 v,out vec3 f,out vec3 m,vec2 s)"
 "{"
   "float i=60.,c=0.;"
   "v=vec3(1);"
   "m=vec3(0,0,1);"
   "float r=0.;"
   "if(e(0.,15.,r))"
     "v=vec3(.2,.2,mix(2.2,1.5,r)),m=normalize(mix(vec3(.5,1.5,1),vec3(.1,.1,1),r));"
   "else if(e(15.,30.,r))"
     "i=mix(60.,90.,r),c=mix(0.,.4,r),v=mix(vec3(.4,.2,2),vec3(.35,.6,.4),r),m=normalize(mix(vec3(-.5,-1,-1),vec3(0,0,-1),r));"
   "else if(e(30.,45.,r))"
     "v=vec3(mix(.8-l.x,-.1,r),-1,0),m=normalize(vec3(-1,-.1,.3));"
   "else if(e(45.,60.,r))"
     "v=vec3(mix(-.5,.2-l.x,r),-1.8,-.3),m=normalize(vec3(1,.2,.8));"
   "else if(e(60.,75.,r))"
     "{"
       "float b=floor(r*3.)*8.+fract(r*3.);"
       "v=vec3(0,0,-1.-b);"
       "m=vec3(0,0,1);"
     "}"
   "else if(e(77.,90.,r))"
     "{"
       "float o=20.*r;"
       "vec3 a=vec3(-l.x*.5+.3,o*l.y,0);"
       "v=a+vec3(mix(3,-3,r),-5,-3);"
       "m=normalize(a-v);"
     "}"
   "else if(e(90.,105.,r))"
     "v=vec3(-x*4.,0,0),m=normalize(vec3(-1,mix(.2,-.2,r),0));"
   "else if(e(105.,120.,r))"
     "v=vec3(0,x*2.,0),m=normalize(vec3(0,1,mix(0.,1.,r))),m.xz*=p(y*r);"
   "vec3 n=(d(vec2(-4.2,x*.1))*2.-1.)*.05;"
   "v+=n;"
   "vec3 E=vec3(0,1,0),o=normalize(cross(E,m));"
   "E=normalize(cross(m,o));"
   "mat3 a=mat3(o,E,m);"
   "float z=1./tan(i*y/360.);"
   "z-=z*length(s)*c;"
   "f=normalize(a*vec3(s,z));"
 "}"
 "vec4 B(vec3 v,vec3 l)"
 "{"
   "vec3 f;"
   "if(M(v,l,f).x<.5)"
     "return vec4(B(v),100);"
   "float m=length(f-l);"
   "const vec2 s=vec2(1,-1);"
   "int i=r;"
   "vec3 x=normalize(s.xyy*u(f+s.xyy*.001)+s.yyx*u(f+s.yyx*.001)+s.yxy*u(f+s.yxy*.001)+s.xxx*u(f+s.xxx*.001));"
   "r=i;"
   "vec3 c=B(f,-v,x);"
   "return vec4(c,m);"
 "}"
 "vec3 E(vec3 v)"
 "{"
   "return v*(2.51*v+.03)/(v*(2.43*v+.59)+.14);"
 "}"
 "vec3 E(vec3 v,vec3 f)"
 "{"
   "v+=a(f)*.05;"
   "v=pow(v,vec3(.8));"
   "v=E(v);"
   "v.x=smoothstep(-.025,1.025,v.x);"
   "float l=0.;"
   "if(e(0.,10.,l))"
     "v*=l*l;"
   "else if(e(14.,16.,l))"
     "v*=2.*abs(l-.5);"
   "else if(e(29.,31.,l))"
     "v*=2.*abs(l-.5);"
   "else if(e(44.,46.,l))"
     "v*=2.*abs(l-.5);"
   "else if(e(59.,61.,l))"
     "v*=2.*abs(l-.5);"
   "else if(e(74.,77.,l))"
     "v*=clamp(75.-x,0.,1.);"
   "else if(e(119.,120.,l))"
     "v*=1.-l;"
   "else if(x>=120.)"
     "v*=0.;"
   "return v;"
 "}"
 "void main()"
 "{"
   "x=n;"
   "vec2 l=g/A;"
   "l+=(a(vec3(g,x)).xy-.5)*.25/A;"
   "vec2 m=(l-.5)*2.*C;"
   "vec3 r,s,o;"
   "M(r,s,o,m);"
   "vec4 i=B(s,r);"
   "i.xyz=E(i.xyz,vec3(-x,4.2*l));"
   "vec4 c=texture(v,l);"
   "f=mix(i,c,.5);"
 "}" 
#endif

